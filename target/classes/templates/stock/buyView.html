<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="main_layout">
<head>
<title>买入</title>
<style type="text/css">
.dlStyle {
	text-indent: 20px;
}
</style>
</head>
<body>
	<!-- http://bootstrap.ninghao.net/base-css.html#forms -->
	<h1 layout:fragment="header">买入</h1>
	<div layout:fragment="content" class="container">
		<form id="buyForm" th:action="@{/trade/BuyView}" action="#"
			method="post">
			<div class="well">
				<label>股票代码:</label> <input type="text" id="code" name="code"
					th:value="${stock} ? ${stock.code}" /> <input type="submit" value="查询价格" /> <br /> <label>价格类型:</label>
				<select id="priceType" name="priceType">
					<option value="1">买1</option>
					<option value="2">买2</option>
					<option value="3">买3</option>
				</select> <br /> <label>委托类型:</label> <select name="agenceType"
					id="agenceType">
					<option value="1">全额成交或撤销委托</option>
					<!--<option value="2">即时成交剩余撤销委托</option>-->
				</select> <br /> <label>交易类型:</label> <select name="tradeType">
					<option value="1">即时交易</option>
					<option value="1">挂单</option>
				</select> <br /> <label>买入数量:</label> <input type="text" id="count"
					name="count" value="1000" />
				<div class="form-actions">
					<input type="button" id="btnBuy" value="下单" />
				</div>
			</div>

			<div th:if="${stock!=null}" class="well">
				<div class="form-actions">
					<input type="submit" value="查询价格" />
				</div>
				<hr/>
				<dl>
					<dt>股票名称</dt>
					<dd class="dlStyle" id="stockName"
						th:text="${stock} ? ${stock.name}">123</dd>
					<dt>买1价格</dt>
					<dd class="dlStyle" id="buy1Price"
						th:text="${stock} ? ${stock.buy1Price}">123</dd>
					<dt>买1申报</dt>
					<dd class="dlStyle" id="buy1Declare"
						th:text="${stock} ? ${stock.buy1Declare}">123</dd>

					<dt>买2价格</dt>
					<dd class="dlStyle" id="buy1Price"
						th:text="${stock} ? ${stock.buy2Price}">123</dd>
					<dt>买2申报</dt>
					<dd class="dlStyle" id="buy1Declare"
						th:text="${stock} ? ${stock.buy2Declare}">123</dd>

					<dt>买3价格</dt>
					<dd class="dlStyle" id="buy1Price"
						th:text="${stock} ? ${stock.buy3Price}">123</dd>
					<dt>买3申报</dt>
					<dd class="dlStyle" id="buy1Declare"
						th:text="${stock} ? ${stock.buy3Declare}">123</dd>

					<dt>报价时间</dt>
					<dd class="dlStyle" id="priceTime"
						th:text="${stock} ? ${#calendars.format(stock.dateTime)}">July
						11, 2012 2:17:16 PM CDT</dd>
				</dl>
			</div>

			<script type="text/javascript">
				$(document).ready(function() {
					$("#main-nav-bar  li").each(function() {
						$(this).css("class","");
				    });
					$('#tab2').css("class", "active");
					$("#btnBuy").click(function() {
						$("#buyForm").attr('action', '/trade/Buy');
						$("#buyForm").submit();
						/*var formVal = {code:$("#code").val(),
								priceType:$("#priceType").val(),
								agenceType:$("#agenceType").val(),
								count:$("#count").val()};
						alert(formVal.count);
						  $.post("/trade/Buy",formVal,function(result){
						    alert(result.message);
						  });*/
					});
				});
			</script>
		</form>
	</div>
</body>

</html>